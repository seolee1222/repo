<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Lee Seok Hyun | Portfolio</title>
  <meta name="description" content="네트워크 및 보안 엔지니어 이석현 포트폴리오 — 프로젝트, 기술스택, 경력, 연락처" />
  <!-- (CSS, 스타일, 등은 동일하게 유지) -->
  <style>
    /* [CSS 코드 생략] - 기존과 동일하게 붙여넣으시면 됩니다 */
    /* 본문에는 CSS 생략 가능, 실제 파일로 만드시려면 기존 코드 그대로 유지하세요. */
  </style>
</head>
<body>
  <!-- ... [본문, 네비게이션, 메인, 프로젝트, 푸터 등 기존 코드] ... -->

  <!-- Project Detail Modal -->
  <div id="projectDetail" class="project-detail">
    <header class="header">
      <div class="container">
        <div class="nav-detail">
          <h1 id="projectTitle" class="title">프로젝트 1</h1>
          <!-- 닫기 버튼 -->
          <button class="close-btn" onclick="closeProjectDetail(); return false;">✕ 닫기</button>
        </div>
        <p class="subtitle">세부 카테고리별 상세 내용</p>
      </div>
    </header>
    <main class="container">
      <!-- ... (카테고리 메뉴 및 내용 동일) ... -->
      <div id="categoryContent" class="card" style="margin-top: 2rem; display: none;">
        <div class="inner">
          <h2 id="categoryTitle">카테고리 선택</h2>
          <div id="categoryDetails">
            <p>위에서 카테고리를 선택하면 해당 분야의 상세 내용이 표시됩니다.</p>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- ... [나머지 본문, 푸터, 탑 버튼 등 기존 코드] ... -->

  <script>
    // Project click handler 등 기존 코드
    document.addEventListener('DOMContentLoaded', function() {
      const projects = document.querySelectorAll('.project');
      projects.forEach(project => {
        project.addEventListener('click', function() {
          const projectId = this.dataset.project;
          const projectTitle = this.querySelector('h3').textContent;
          openProjectDetail(projectId, projectTitle);
        });
      });

      // Search and filter functionality
      const searchInput = document.getElementById('search');
      const filterButtons = document.querySelectorAll('.filter-group .chip.btn');
      
      searchInput.addEventListener('input', filterProjects);
      filterButtons.forEach(btn => {
        btn.addEventListener('click', function() {
          filterButtons.forEach(b => b.classList.remove('active'));
          this.classList.add('active');
          filterProjects();
        });
      });
    });

    // Project Detail 열기
    function openProjectDetail(projectId, title) {
      const projectTitles = {
        'project1': '프로젝트 1',
        'project2': '프로젝트 2', 
        'project3': '프로젝트 3',
        'project4': '프로젝트 4'
      };
      document.getElementById('projectTitle').textContent = projectTitles[projectId] || title;
      document.getElementById('projectDetail').classList.add('show');
      document.body.style.overflow = 'hidden';
    }

    // [수정된 부분] window에 직접 할당
    window.closeProjectDetail = function() {
      document.getElementById('projectDetail').classList.remove('show');
      document.body.style.overflow = 'auto';
      document.getElementById('categoryContent').style.display = 'none';
      setTimeout(() => {
        document.getElementById('projects').scrollIntoView({ behavior: 'smooth' });
      }, 300);
    }

    function showCategory(category) {
      const categoryContent = document.getElementById('categoryContent');
      const categoryTitle = document.getElementById('categoryTitle');
      const categoryDetails = document.getElementById('categoryDetails');
      const categories = {
        network: {
          title: '네트워크',
          content: `
            <h3>네트워크 구성 및 관리</h3>
            <p>• VLAN 설계 및 구축 (10/20/30)</p>
            <p>• Cisco 라우터/스위치 설정</p>
            <p>• GNS3를 활용한 네트워크 시뮬레이션</p>
            <p>• 라우팅 프로토콜 설정 및 최적화</p>
            <p>• 네트워크 세그멘테이션</p>
            <br>
            <h4>주요 성과</h4>
            <p>✓ VLAN 간 통신 제어 100% 성공</p>
            <p>✓ 네트워크 성능 20% 향상</p>
          `
        },
        security: {
          title: '보안솔루션',
          content: `
            <h3>보안 체계 구축</h3>
            <p>• ASA 방화벽 정책 설정</p>
            <p>• SSH/Telnet 접근 제어</p>
            <p>• HTTPS/HTTP 트래픽 관리</p>
            <p>• 침입 탐지 시스템 (IDS/IPS)</p>
            <p>• 취약점 분석 및 대응</p>
            <br>
            <h4>보안 정책</h4>
            <p>✓ FTP 접속 차단</p>
            <p>✓ 안전한 원격 접속 환경 구축</p>
            <p>✓ 버퍼 오버플로우 취약점 분석</p>
          `
        },
        monitoring: {
          title: '모니터링',
          content: `
            <h3>시스템 모니터링</h3>
            <p>• PMM(Percona Monitoring) 구축</p>
            <p>• Zabbix 모니터링 시스템</p>
            <p>• 실시간 성능 추적</p>
            <p>• 알림 시스템 구성</p>
            <p>• 대시보드 구축</p>
            <br>
            <h4>모니터링 지표</h4>
            <p>✓ CPU, Memory, Network 사용률</p>
            <p>✓ 서비스 가용성 99.9%</p>
            <p>✓ 장애 예측 및 사전 대응</p>
          `
        },
        log: {
          title: '로그 관리',
          content: `
            <h3>로그 분석 및 관리</h3>
            <p>• Security Onion 로그 수집</p>
            <p>• Wireshark 패킷 분석</p>
            <p>• Snort3/Suricata 이벤트 로그</p>
            <p>• 시스템 로그 통합 관리</p>
            <p>• 보안 이벤트 상관 분석</p>
            <br>
            <h4>로그 분석 결과</h4>
            <p>✓ 일일 10,000+ 이벤트 처리</p>
            <p>✓ 이상 트래픽 탐지율 95%</p>
            <p>✓ 평균 대응 시간 5분 단축</p>
          `
        },
        db: {
          title: 'DB 관리',
          content: `
            <h3>데이터베이스 관리</h3>
            <p>• MariaDB 설치 및 구성</p>
            <p>• 데이터베이스 보안 설정</p>
            <p>• 백업 및 복구 전략</p>
            <p>• 성능 튜닝 및 최적화</p>
            <p>• 모니터링 데이터 저장</p>
            <br>
            <h4>DB 성과</h4>
            <p>✓ 쿼리 성능 30% 향상</p>
            <p>✓ 데이터 무결성 100% 보장</p>
            <p>✓ 자동 백업 시스템 구축</p>
          `
        }
      };
      const categoryData = categories[category];
      if (categoryData) {
        categoryTitle.textContent = categoryData.title;
        categoryDetails.innerHTML = categoryData.content;
        categoryContent.style.display = 'block';
        categoryContent.scrollIntoView({ behavior: 'smooth' });
      }
    }

    function filterProjects() {
      const searchTerm = document.getElementById('search').value.toLowerCase();
      const activeFilter = document.querySelector('.filter-group .chip.btn.active').dataset.filter;
      const projects = document.querySelectorAll('.project');
      projects.forEach(project => {
        const tags = project.dataset.tags.toLowerCase();
        const title = project.querySelector('h3').textContent.toLowerCase();
        const desc = project.querySelector('p').textContent.toLowerCase();
        const matchesSearch = searchTerm === '' || 
          tags.includes(searchTerm) || 
          title.includes(searchTerm) || 
          desc.includes(searchTerm);
        const matchesFilter = activeFilter === 'all' || 
          tags.includes(activeFilter) ||
          project.querySelector('.badge').textContent.toLowerCase().includes(activeFilter);
        if (matchesSearch && matchesFilter) {
          project.style.display = 'block';
        } else {
          project.style.display = 'none';
        }
      });
    }

    // Back to top button
    window.addEventListener('scroll', function() {
      const toTop = document.getElementById('toTop');
      if (window.pageYOffset > 300) {
        toTop.style.display = 'block';
      } else {
        toTop.style.display = 'none';
      }
    });

    // Smooth scrolling for navigation links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });

    // Navbar transparency on scroll
    window.addEventListener('scroll', function() {
      const nav = document.querySelector('.nav');
      if (window.scrollY > 50) {
        nav.classList.remove('transparent');
      } else {
        nav.classList.add('transparent');
      }
    });
  </script>
</body>
</html>
